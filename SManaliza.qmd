---
title: "SManaliza"
author: Zofia Mikołajczak
format: docx
editor: visual
---

## Przygotowanie bazy danych

```{r}
install.packages("tidyverse")
library(tidyverse)

library(readr)
KWESTIONARIUSZ_SM <- read_delim("nowe_bazy_danych/KWESTIONARIUSZ_SM.csv", 
    delim = ";", escape_double = FALSE, trim_ws = TRUE)
View(KWESTIONARIUSZ_SM)

KWESTIONARIUSZ_PADACZKA_SM <- read_delim("nowe_bazy_danych/KWESTIONARIUSZ_PADACZKA- SM.csv", 
    delim = ";", escape_double = FALSE, trim_ws = TRUE)
View(KWESTIONARIUSZ_PADACZKA_SM)

KWESTIONARIUSZ_SM_PADACZKA <- read_delim("nowe_bazy_danych/KWESTIONARIUSZ_SM-PADACZKA.csv", 
    delim = ";", escape_double = FALSE, trim_ws = TRUE)
View(KWESTIONARIUSZ_SM_PADACZKA)



#wybranie zmiennych z baz danych 

SM<-KWESTIONARIUSZ_SM %>% 
  select(wiek, plec, narodowosc,starts_with(c("D","Q")))

PA_SM<-KWESTIONARIUSZ_PADACZKA_SM %>% 
  select(wiek, plec, narodowosc,starts_with(c("D","Q")))

SM_PA<-KWESTIONARIUSZ_SM_PADACZKA %>% 
  select(wiek, plec, narodowosc,starts_with(c("D","Q")))

#stwirzenie caej bazy danych dla SM; uzyskalismy baze danych z 37 zmiennymi dla 509 obserwacji
DF_SM<-rbind(SM, PA_SM, SM_PA)
str(DF_SM)
view(DF_SM)

```

## Przekodowanie pytan

```{r}

view(a)

DF_SM_2<-DF_SM %>% 
  mutate(QA1 = ifelse (QA1 == 'Immunologicznego', 1, 0),
         QA2 = ifelse (QA2 == 'Przyczyny stwardnienia rozsianego nie są do końca znane', 1, 0),
         QA3 = ifelse (QA3 == 'Wszystkie powyższe odpowiedzi są poprawne', 1, 0),
         QA4 = ifelse (QA4 == 'Wszystkie powyższe odpowiedzi są poprawne', 1, 0),
         QA5 = ifelse (QA5 == 'PRAWDA', 1, 0),
         QA6 = ifelse (QA6 == 'PRAWDA', 1, 0),
         QA7 = ifelse (QA7 == 'PRAWDA', 1, 0), 
         QA8 = ifelse (QA8 == 'PRAWDA', 1, 0), 
         QA9 = ifelse (QA9 == 'PRAWDA', 1, 0), 
         QA10 = ifelse (QA10 == 'PRAWDA', 1, 0), 
         QA11 = ifelse (QA11 == 'PRAWDA', 1, 0), 
         QA12 = ifelse (QA12 == 'FAŁSZ', 1, 0), 
         QA13 = ifelse (QA13 == 'PRAWDA', 1, 0), 
         QA14 = ifelse (QA14 == 'PRAWDA', 1, 0),
         QB1 = ifelse (QB1 == 'Immunologicznego', 1, 0),
         QB2 = ifelse (QB2 == 'Przyczyny stwardnienia rozsianego nie są do końca znane', 1, 0),
         QB3 = ifelse (QB3 == 'Wszystkie powyższe odpowiedzi są poprawne', 1, 0),
         QB4 = ifelse (QB4 == 'Wszystkie powyższe odpowiedzi są poprawne', 1, 0),
         QB5 = ifelse (QB5 == 'PRAWDA', 1, 0),
         QB6 = ifelse (QB6 == 'PRAWDA', 1, 0),
         QB7 = ifelse (QB7 == 'PRAWDA', 1, 0), 
         QB8 = ifelse (QB8 == 'PRAWDA', 1, 0), 
         QB9 = ifelse (QB9 == 'PRAWDA', 1, 0), 
         QB10 = ifelse (QB10 == 'PRAWDA', 1, 0), 
         QB11 = ifelse (QB11 == 'PRAWDA', 1, 0), 
         QB12 = ifelse (QB12 == 'FAŁSZ', 1, 0), 
         QB13 = ifelse (QB13 == 'PRAWDA', 1, 0), 
         QB14 = ifelse (QB14 == 'PRAWDA', 1, 0))





```

## Wyniki dwóch czesci kwestionariusza

```{r}

DF_SM_3 <- DF_SM_2 %>% 
  mutate(SUM_A = 
           DF_SM_2 %>% 
           select(starts_with("QA")) %>% 
           rowSums) %>% 
   mutate(SUM_B = 
           DF_SM_2 %>% 
           select(starts_with("QB")) %>% 
           rowSums) %>% 
  select(-starts_with(c("QA", "QB")))

view(DF_SM_3)


```

